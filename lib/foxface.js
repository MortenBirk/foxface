!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.foxface=t():n.foxface=t()}(window,(function(){return function(n){var t={};function r(e){if(t[e])return t[e].exports;var u=t[e]={i:e,l:!1,exports:{}};return n[e].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var u in n)r.d(e,u,function(t){return n[t]}.bind(null,u));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=0)}([function(n,t,r){"use strict";r.r(t);var e=function(n,t){for(var r=t.shape.map((function(){return 0})),e=!0;e;){n(t.get(r),t.getBufferIdx(r),r);for(var u=t.shape.length-1;r[u]+=1,r[u]>=t.shape[u];){0===u&&(e=!1);for(var o=u;o<t.shape.length;o++)r[o]=0;u-=1}}},u=function(n,t){return(t=t.copy()).forEach((function(r,e,u){return t.data[e]=n(r,e,u)})),t};function o(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=function(n,t){return t(n.dtype.from(n.values()),{dtype:n.dtype,shape:o(n.shape)})},a=function(n,t,r){return r(n.from(t.values()),{dtype:n,shape:o(t.shape)})},i=function(n){var t=[];return n.forEach((function(n){return t.push(n)})),t},c=function(n){if(1===n.shape.length)return n.values();var t=[];return n.forEach((function(n,r,e){var u=t;e.forEach((function(n,t){t!==e.length-1&&(u[n]||(u[n]=[]),u=u[n])})),u[e[e.length-1]]=n})),t},s=function(n){return d(0,n)},h=function(n){return d(1,n)},d=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.dtype,e=void 0===r?Float64Array:r,u=t.shape,o=void 0===u?null:u;if(null===o)throw new TypeError("A shape option must be specified");var f=o.reduce((function(n,t){return n*t}),1),a=e.from({length:f},(function(){return n}));return L(a,{shape:o})},p=function(n){return d(0,{dtype:n.dtype,shape:n.shape.slice()})},l=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=t){t<0&&(t+=n.shape.length);var r=n.shape.map((function(n){return[]}));r[t]=0;for(var e=p(n.get(r)),u=0;u<n.shape[t];u++)r[t]=u,e.add(n.get(r),!0);return e.forEach((function(r,u){return e.data[u]=r/n.shape[t]})),e}var o=n.values(),f=o.reduce((function(n,t){return n+t}),0);return f/o.length},y=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=t){t<0&&(t+=n.shape.length);var r=n.shape.map((function(n){return[]}));r[t]=0;for(var e=p(n.get(r)),u=0;u<n.shape[t];u++)r[t]=u,e.add(n.get(r),!0);return e}var o=n.values(),f=o.reduce((function(n,t){return n+t}),0);return f},v=function(n){var t=Number.POSITIVE_INFINITY;return n.forEach((function(n){n<t&&(t=n)})),t},g=function(n){var t=Number.NEGATIVE_INFINITY;return n.forEach((function(n){n>t&&(t=n)})),t},m=function(n,t,r){if(!r)return"number"==typeof t?n.map((function(n){return n+t})):n.map((function(n,r,e){return n+t.data[t.getBufferIdx(e)]}));"number"!=typeof t?n.forEach((function(r,e,u){return n.data[e]=r+t.data[t.getBufferIdx(u)]})):n.forEach((function(r,e,u){return n.data[e]=r+t}))},b=function(n,t,r){if(!r)return"number"==typeof t?n.map((function(n){return n-t})):n.map((function(n,r,e){return n-t.data[t.getBufferIdx(e)]}));"number"!=typeof t?n.forEach((function(r,e,u){return n.data[e]=r-t.data[t.getBufferIdx(u)]})):n.forEach((function(r,e,u){return n.data[e]=r-t}))},I=function(n,t,r){if(!r)return"number"==typeof t?n.map((function(n){return n/t})):n.map((function(n,r,e){return n/t.data[t.getBufferIdx(e)]}));"number"!=typeof t?n.forEach((function(r,e,u){return n.data[e]=r/t.data[t.getBufferIdx(u)]})):n.forEach((function(r,e,u){return n.data[e]=r/t}))},E=function(n,t,r){if(!r)return"number"==typeof t?n.map((function(n){return n*t})):n.map((function(n,r,e){return n*t.data[t.getBufferIdx(e)]}));"number"!=typeof t?n.forEach((function(r,e,u){return n.data[e]=r*t.data[t.getBufferIdx(u)]})):n.forEach((function(r,e,u){return n.data[e]=r*t}))},x=function(n,t,r){if(!r)return"number"==typeof t?n.map((function(n){return Math.pow(n,t)})):n.map((function(n,r,e){return Math.pow(n,t.data[t.getBufferIdx(e)])}));"number"!=typeof t?n.forEach((function(r,e,u){return n.data[e]=Math.pow(r,t.data[t.getBufferIdx(u)])})):n.forEach((function(r,e,u){return n.data[e]=Math.pow(r,t)}))},A=function(n,t){return"number"==typeof n?t.map((function(t){return t===n?1:0})):t.map((function(t,r,e){return t===n.data[n.getBufferIdx(e)]?1:0}))},w=function(n,t){return"number"==typeof n?t.map((function(t){return t!==n?1:0})):t.map((function(t,r,e){return t!==n.data[n.getBufferIdx(e)]?1:0}))},B=function(n,t){return"number"==typeof n?t.map((function(t){return t>n?1:0})):t.map((function(t,r,e){return t>n.data[n.getBufferIdx(e)]?1:0}))},j=function(n,t){return"number"==typeof n?t.map((function(t){return t>=n?1:0})):t.map((function(t,r,e){return t>=n.data[n.getBufferIdx(e)]?1:0}))},T=function(n,t){return"number"==typeof n?t.map((function(t){return t<n?1:0})):t.map((function(t,r,e){return t<n.data[n.getBufferIdx(e)]?1:0}))},O=function(n,t){return"number"==typeof n?t.map((function(t){return t<=n?1:0})):t.map((function(t,r,e){return t<=n.data[n.getBufferIdx(e)]?1:0}))};function N(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function S(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}var M=function(n){for(var t=[];t.push(n.length),Array.isArray(n[0]);)n=n[0];return t},_=function(n){if(1===n.length)return[1];for(var t=[],r=n;;)if((r=r.filter((function(n,t){return t>0}))).length>1&&t.push(r.reduce((function(n,t){return n*t}),1)),1===r.length){t.push(r[0]),t.push(1);break}return t},P=function n(t){return Array.isArray(t[0])?t.reduce((function(t,r){return t.concat(n(r))}),[]):t},F=[Array,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array],R=function(n){var t=!0,r=!1,e=void 0;try{for(var u,o=F[Symbol.iterator]();!(t=(u=o.next()).done);t=!0){var f=u.value;if(n instanceof f)return f}}catch(n){r=!0,e=n}finally{try{t||null==o.return||o.return()}finally{if(r)throw e}}},U=function(n,t){!function(n,t){if(n.length>t.shape.length)throw new RangeError("Index out of range");n.forEach((function(n,r){if(Array.isArray(n))n.forEach((function(n){if(n>t.shape[r])throw new RangeError("Index out of range")}));else if(n>=t.shape[r])throw new RangeError("Index out of range")}))}(n=function(n,t){return n.length<t.shape.length?t.shape.map((function(t,r){return r<n.length?n[r]:[]})):n}(n=function(n,t){return n.map((function(n,r){return Array.isArray(n)?n.map((function(n){return n<0?n+t.shape[r]:n})):n<0?n+t.shape[r]:n}))}(n,t),t),t);var r=!1;return n.forEach((function(n){Array.isArray(n)&&(r=!0)})),r?function(n,t){var r=n.map((function(n,r){if(Array.isArray(n)){if(0===n.length)return t.shape[r];if(2!==n.length)throw new TypeError("Indices must be a range of two numbers, or an empty array");return n[1]-n[0]}return null})).filter((function(n){return null!==n})),e=n.map((function(n,r){return Array.isArray(n)?t.strides[r]:null})).filter((function(n){return null!==n})),u=n.map((function(n){return Array.isArray(n)?0===n.length?0:n[0]:n})).reduce((function(n,r,e){return n+r*t.strides[e]}),0);return C(null,{source:t,shape:r,offset:t.offset+u,strides:e})}(n,t):t.getBufferIdx(n,t)},k=function(n,t){var r=[];return n.forEach((function(n,e,u){n&&r.push(t.get(u))})),C(t.dtype.from(r))},q=function(n,t,r){t.forEach((function(t,e,u){t&&r.set(u,n)}))},z=function n(t){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(this,n),S(this,"set",(function(t,e){if(t instanceof n)q(e,t,r);else{var u=e;"function"!=typeof e&&(u=function(){return e});var o=U(t,r);Number.isInteger(o)?r.data[o]=u(r.data[o]):o.forEach((function(n,t){return r.data[t]=u(r.data[t])}))}})),S(this,"get",(function(t){if(t instanceof n)return k(t,r);var e=U(t,r);return Number.isInteger(e)?r.data[e]:e})),S(this,"getBufferIdx",(function(n){var t=n.map((function(n,t){return n*r.strides[t]}));return r.offset+t.reduce((function(n,t){return t+n}),0)})),S(this,"forEach",(function(n){return e(n,r)})),S(this,"map",(function(n){return u(n,r)})),S(this,"values",(function(){return i(r)})),S(this,"toList",(function(){return c(r)})),S(this,"copy",(function(){return f(r,C)})),S(this,"asType",(function(n){return a(n,r,C)})),S(this,"avg",(function(n){return l(r,n)})),S(this,"sum",(function(n){return y(r,n)})),S(this,"min",(function(){return v(r)})),S(this,"max",(function(){return g(r)})),S(this,"add",(function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m(r,n,t)})),S(this,"sub",(function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(r,n,t)})),S(this,"div",(function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return I(r,n,t)})),S(this,"mul",(function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return E(r,n,t)})),S(this,"pow",(function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x(r,n,t)})),S(this,"eq",(function(n){return A(n,r)})),S(this,"neq",(function(n){return w(n,r)})),S(this,"lt",(function(n){return T(n,r)})),S(this,"gt",(function(n){return B(n,r)})),S(this,"le",(function(n){return O(n,r)})),S(this,"ge",(function(n){return j(n,r)}));var s=o.dtype,h=void 0===s?null:s,d=o.source,p=void 0===d?null:d,F=o.shape,z=void 0===F?null:F,L=o.offset,V=void 0===L?null:L,Y=o.strides,G=void 0===Y?null:Y;if(t){var D=R(t),H=D===Array?P(t):t;if(z&&H.length!==z.reduce((function(n,t){return n*t}),1))throw new RangeError("Invalid shape provided for the given data");return this.dtype=h||D,H=this.dtype.from(H),this.shape=z||M(t),this.length=this.shape.reduce((function(n,t){return t*n}),1),this.strides=_(this.shape),this.offset=0,void(this.data=H)}if(p&&z&&G)return this.shape=z,this.length=this.shape.reduce((function(n,t){return t*n}),1),this.offset=V||0,this.strides=G,this.data=p.data,void(this.dtype=h||p.dtype);throw new TypeError("shape and strides must be provided when a view is selected with a source")},C=function(n,t){return new z(n,t)},L=C;r.d(t,"zeros",(function(){return s})),r.d(t,"ones",(function(){return h})),r.d(t,"full",(function(){return d})),r.d(t,"zerosLike",(function(){return p})),r.d(t,"ndarray",(function(){return L}));t.default=L}])}));