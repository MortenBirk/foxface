!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.foxface=r():n.foxface=r()}(window,(function(){return function(n){var r={};function t(e){if(r[e])return r[e].exports;var u=r[e]={i:e,l:!1,exports:{}};return n[e].call(u.exports,u,u.exports,t),u.l=!0,u.exports}return t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,r){if(1&r&&(n=t(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var u in n)t.d(e,u,function(r){return n[r]}.bind(null,u));return e},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=0)}([function(n,r,t){"use strict";t.r(r);var e=function(n,r){for(var t=r.shape.map((function(){return 0})),e=!0;e;){n(r.get(t),r.getBufferIdx(t),t);for(var u=r.shape.length-1;t[u]+=1,t[u]>=r.shape[u];){0===u&&(e=!1);for(var o=u;o<r.shape.length;o++)t[o]=0;u-=1}}},u=function(n,r){return(r=r.copy()).forEach((function(t,e,u){return r.data[e]=n(t,e,u)})),r};function o(n){return function(n){if(Array.isArray(n)){for(var r=0,t=new Array(n.length);r<n.length;r++)t[r]=n[r];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=function(n,r){return r(n.dtype.from(n.values()),{dtype:n.dtype,shape:o(n.shape)})},a=function(n,r,t){return t(n.from(r.values()),{dtype:n,shape:o(r.shape)})},i=function(n){var r=[];return n.forEach((function(n){return r.push(n)})),r},c=function(n){if(1===n.shape.length)return n.values();var r=[];return n.forEach((function(n,t,e){var u=r;e.forEach((function(n,r){r!==e.length-1&&(u[n]||(u[n]=[]),u=u[n])})),u[e[e.length-1]]=n})),r},s=function(n){return d(0,n)},h=function(n){return d(1,n)},d=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.dtype,e=void 0===t?Float64Array:t,u=r.shape,o=void 0===u?null:u;if(null===o)throw new TypeError("A shape option must be specified");var f=o.reduce((function(n,r){return n*r}),1),a=e.from({length:f},(function(){return n}));return L(a,{shape:o})},p=function(n){return d(0,{dtype:n.dtype,shape:n.shape.slice()})},l=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=r){r<0&&(r+=n.shape.length);var t=n.shape.map((function(n){return[]}));t[r]=0;for(var e=p(n.get(t)),u=0;u<n.shape[r];u++)t[r]=u,e.add(n.get(t),!0);return e.forEach((function(t,u){return e.data[u]=t/n.shape[r]})),e}var o=n.values(),f=o.reduce((function(n,r){return n+r}),0);return f/o.length},y=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=r){r<0&&(r+=n.shape.length);var t=n.shape.map((function(n){return[]}));t[r]=0;for(var e=p(n.get(t)),u=0;u<n.shape[r];u++)t[r]=u,e.add(n.get(t),!0);return e}var o=n.values(),f=o.reduce((function(n,r){return n+r}),0);return f},g=function(n){var r=Number.POSITIVE_INFINITY;return n.forEach((function(n){n<r&&(r=n)})),r},v=function(n){var r=Number.NEGATIVE_INFINITY;return n.forEach((function(n){n>r&&(r=n)})),r},m=function(n,r,t){if(!t)return"number"==typeof r?n.map((function(n){return n+r})):n.map((function(n,t,e){return n+r.data[r.getBufferIdx(e)]}));"number"!=typeof r?n.forEach((function(t,e,u){return n.data[e]=t+r.data[r.getBufferIdx(u)]})):n.forEach((function(t,e,u){return n.data[e]=t+r}))},b=function(n,r,t){if(!t)return"number"==typeof r?n.map((function(n){return n-r})):n.map((function(n,t,e){return n-r.data[r.getBufferIdx(e)]}));"number"!=typeof r?n.forEach((function(t,e,u){return n.data[e]=t-r.data[r.getBufferIdx(u)]})):n.forEach((function(t,e,u){return n.data[e]=t-r}))},I=function(n,r,t){if(!t)return"number"==typeof r?n.map((function(n){return n/r})):n.map((function(n,t,e){return n/r.data[r.getBufferIdx(e)]}));"number"!=typeof r?n.forEach((function(t,e,u){return n.data[e]=t/r.data[r.getBufferIdx(u)]})):n.forEach((function(t,e,u){return n.data[e]=t/r}))},E=function(n,r,t){if(!t)return"number"==typeof r?n.map((function(n){return n*r})):n.map((function(n,t,e){return n*r.data[r.getBufferIdx(e)]}));"number"!=typeof r?n.forEach((function(t,e,u){return n.data[e]=t*r.data[r.getBufferIdx(u)]})):n.forEach((function(t,e,u){return n.data[e]=t*r}))},x=function(n,r,t){if(!t)return"number"==typeof r?n.map((function(n){return Math.pow(n,r)})):n.map((function(n,t,e){return Math.pow(n,r.data[r.getBufferIdx(e)])}));"number"!=typeof r?n.forEach((function(t,e,u){return n.data[e]=Math.pow(t,r.data[r.getBufferIdx(u)])})):n.forEach((function(t,e,u){return n.data[e]=Math.pow(t,r)}))},A=function(n,r){return"number"==typeof n?r.map((function(r){return r===n?1:0})):r.map((function(r,t,e){return r===n.data[n.getBufferIdx(e)]?1:0}))},w=function(n,r){return"number"==typeof n?r.map((function(r){return r!==n?1:0})):r.map((function(r,t,e){return r!==n.data[n.getBufferIdx(e)]?1:0}))},B=function(n,r){return"number"==typeof n?r.map((function(r){return r>n?1:0})):r.map((function(r,t,e){return r>n.data[n.getBufferIdx(e)]?1:0}))},j=function(n,r){return"number"==typeof n?r.map((function(r){return r>=n?1:0})):r.map((function(r,t,e){return r>=n.data[n.getBufferIdx(e)]?1:0}))},T=function(n,r){return"number"==typeof n?r.map((function(r){return r<n?1:0})):r.map((function(r,t,e){return r<n.data[n.getBufferIdx(e)]?1:0}))},O=function(n,r){return"number"==typeof n?r.map((function(r){return r<=n?1:0})):r.map((function(r,t,e){return r<=n.data[n.getBufferIdx(e)]?1:0}))};function N(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function S(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}var M=function(n){for(var r=[];r.push(n.length),Array.isArray(n[0]);)n=n[0];return r},_=function(n){if(1===n.length)return[1];for(var r=[],t=n;;)if((t=t.filter((function(n,r){return r>0}))).length>1&&r.push(t.reduce((function(n,r){return n*r}),1)),1===t.length){r.push(t[0]),r.push(1);break}return r},P=function n(r){return Array.isArray(r[0])?r.reduce((function(r,t){return r.concat(n(t))}),[]):r},F=[Array,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array],R=function(n){var r=!0,t=!1,e=void 0;try{for(var u,o=F[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var f=u.value;if(n instanceof f)return f}}catch(n){t=!0,e=n}finally{try{r||null==o.return||o.return()}finally{if(t)throw e}}},U=function(n,r){!function(n,r){if(n.length>r.shape.length)throw new RangeError("Index out of range");n.forEach((function(n,t){if(Array.isArray(n))n.forEach((function(n){if(n>r.shape[t])throw new RangeError("Index out of range")}));else if(n>=r.shape[t])throw new RangeError("Index out of range")}))}(n=function(n,r){return n.length<r.shape.length?r.shape.map((function(r,t){return t<n.length?n[t]:[]})):n}(n=function(n,r){return n.map((function(n,t){return Array.isArray(n)?n.map((function(n){return n<0?n+r.shape[t]:n})):n<0?n+r.shape[t]:n}))}(n,r),r),r);var t=!1;return n.forEach((function(n){Array.isArray(n)&&(t=!0)})),t?function(n,r){var t=n.map((function(n,t){if(Array.isArray(n)){if(0===n.length)return r.shape[t];if(2!==n.length)throw new TypeError("Indices must be a range of two numbers, or an empty array");return n[1]-n[0]}return null})).filter((function(n){return null!==n})),e=n.map((function(n,t){return Array.isArray(n)?r.strides[t]:null})).filter((function(n){return null!==n})),u=n.map((function(n){return Array.isArray(n)?0===n.length?0:n[0]:n})).reduce((function(n,t,e){return n+t*r.strides[e]}),0);return C(null,{source:r,shape:t,offset:r.offset+u,strides:e})}(n,r):r.getBufferIdx(n,r)},k=function(n,r){var t=[];return n.forEach((function(n,e,u){n&&t.push(r.get(u))})),C(r.dtype.from(t))},q=function(n,r,t){r.forEach((function(r,e,u){r&&t.set(u,n)}))},z=function n(r){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(this,n),S(this,"set",(function(r,e){if(r instanceof n)q(e,r,t);else{var u=U(r,t);Number.isInteger(u)?t.data[u]=e:u.forEach((function(n,r){return t.data[r]=e}))}})),S(this,"get",(function(r){if(r instanceof n)return k(r,t);var e=U(r,t);return Number.isInteger(e)?t.data[e]:e})),S(this,"getBufferIdx",(function(n){var r=n.map((function(n,r){return n*t.strides[r]}));return t.offset+r.reduce((function(n,r){return r+n}),0)})),S(this,"forEach",(function(n){return e(n,t)})),S(this,"map",(function(n){return u(n,t)})),S(this,"values",(function(){return i(t)})),S(this,"toList",(function(){return c(t)})),S(this,"copy",(function(){return f(t,C)})),S(this,"asType",(function(n){return a(n,t,C)})),S(this,"avg",(function(n){return l(t,n)})),S(this,"sum",(function(n){return y(t,n)})),S(this,"min",(function(){return g(t)})),S(this,"max",(function(){return v(t)})),S(this,"add",(function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m(t,n,r)})),S(this,"sub",(function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(t,n,r)})),S(this,"div",(function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return I(t,n,r)})),S(this,"mul",(function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return E(t,n,r)})),S(this,"pow",(function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x(t,n,r)})),S(this,"eq",(function(n){return A(n,t)})),S(this,"neq",(function(n){return w(n,t)})),S(this,"lt",(function(n){return T(n,t)})),S(this,"gt",(function(n){return B(n,t)})),S(this,"le",(function(n){return O(n,t)})),S(this,"ge",(function(n){return j(n,t)}));var s=o.dtype,h=void 0===s?null:s,d=o.source,p=void 0===d?null:d,F=o.shape,z=void 0===F?null:F,L=o.offset,V=void 0===L?null:L,Y=o.strides,G=void 0===Y?null:Y;if(r){var D=R(r),H=D===Array?P(r):r;if(z&&H.length!==z.reduce((function(n,r){return n*r}),1))throw new RangeError("Invalid shape provided for the given data");return this.dtype=h||D,H=this.dtype.from(H),this.shape=z||M(r),this.length=this.shape.reduce((function(n,r){return r*n}),1),this.strides=_(this.shape),this.offset=0,void(this.data=H)}if(p&&z&&G)return this.shape=z,this.length=this.shape.reduce((function(n,r){return r*n}),1),this.offset=V||0,this.strides=G,this.data=p.data,void(this.dtype=h||p.dtype);throw new TypeError("shape and strides must be provided when a view is selected with a source")},C=function(n,r){return new z(n,r)},L=C;t.d(r,"zeros",(function(){return s})),t.d(r,"ones",(function(){return h})),t.d(r,"full",(function(){return d})),t.d(r,"zerosLike",(function(){return p})),t.d(r,"ndarray",(function(){return L}));r.default=L}])}));